{% extends 'base.html' %}

{% block content %}
<div class="posts-container">
    <h1>Posts</h1>
    <ul class="posts-grid">
        {% for post in posts %}
        <li class="post-card">
            <a href="{% url 'post-detail' post.id %}" class="title-link">{{ post.title }}</a>
            <p>Post√© par <a href="{% url 'profile' post.author.username %}">{{ post.author.username }}</a></p>
             {% if post.image and post.image.image %}
            <div class="photo">
                <a href="{% url 'post-detail' post.id %}"><img src="{{post.image.image.url }}" alt="{{ post.image.caption }}"></img></a>
            </div>
            {% endif %}        
            <div class="post-actions">
                <a href="{% url 'post-update' post.id %}" class="modify-btn">Modifier</a>
                <a href="{% url 'post-delete' post.id %}" class="delete-btn">Supprimer</a>
            </div>
        </li>
        {% empty %}
        <li>Aucun post disponible.</li>
        {% endfor %}
    </ul>
</div>
{% endblock %}
