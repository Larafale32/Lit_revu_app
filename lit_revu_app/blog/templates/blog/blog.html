{% extends 'base.html' %}

{% block content %}
<div class="container">
  <h1>Bienvenue sur le Blog !</h1>
  <p style="text-align:center;">Vous êtes bien connecté en tant que <strong>{{ request.user.username }}</strong></p>

  <div class="grid">
    <div class="card">
      <img src="https://www.philippe-leclercq.com/wp-content/uploads/2020/10/livre-ouvert-pour-decoration.jpg" alt="Liste des posts" />
      <h2>Liste des posts</h2>
      <p>Découvrez toutes nos revues de livres, classées par date et par auteur.</p>
      <a href="{% url 'post_list' %}" class="btn">Voir la liste</a>
    </div>

    <div class="card">
      <img src="https://img.le-dictionnaire.com/ecrire-stylo.jpg" alt="Créer un post" />
      <h2>Créer un post</h2>
      <p>Partagez votre propre critique de livre et inspirez les autres lecteurs.</p>
      <a href="{% url 'post-create' %}" class="btn">Créer un post</a>
    </div>

    <div class="card">
      <img src="https://lacalligraphe.fr/wp-content/uploads/2023/10/FullSizeRender-11-scaled.jpg" alt="Contact" />
      <h2>Contactez-nous</h2>
      <p>Une question ou une suggestion ? Écrivez-nous directement.</p>
      <a href="{% url 'contact-us' %}" class="btn">Contact</a>
    </div>

    <!-- Flux centré -->
    <div class="flux">
      <ul class="posts-grid home-posts-grid">
        {% for post in posts %}
          <li class="post-card">
            <a href="{% url 'post-detail' post.id %}" class="title-link">{{ post.title }}</a>
            <p>Posté par <a href="{% url 'profile' post.author.username %}">{{ post.author.username }}</a></p>

            {% if post.image %}
              <div class="photo">
                <a href="{% url 'post-detail' post.id %}">
                  <img src="{{ post.image.image.url }}" alt="{{ post.image.caption }}" />
                </a>
              </div>
            {% endif %}

            <div class="post-actions">
              <a href="{% url 'post-update' post.id %}" class="modify-btn">Modifier</a>
              <a href="{% url 'post-delete' post.id %}" class="delete-btn">Supprimer</a>
            </div>
          </li>
        {% empty %}
          <li>Aucun post disponible.</li>
        {% endfor %}
      </ul>
    </div>
  </div> 
</div>
{% endblock %}
